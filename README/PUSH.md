# PUSH NOTIFICATIONS üëã

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –£—Å—Ç–Ω–∞–æ–≤–∫–∞

---–° expo Go –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–æ–ª—å–∫–æ development build---  
–î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `npx expo install expo-dev-client`

---–†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (–Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ –∏ –≤ –≤–µ–± –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)---  
–î–æ–±–∞–≤–∏–ª —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä —Å–æ [—Å—Ç—Ä–∞–Ω–∏—Ü—ã](https://docs.expo.dev/push-notifications/push-notifications-setup/#prerequisites). –ù–µ –º–µ–Ω—è—è –∫–æ–¥–∞ –ø—Ä–∏ –≤–µ—Ä–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ.  
–î–µ–ª–∞–ª —Å—Ç—Ä–æ–≥–æ –ø–æ –ø—É–Ω–∫—Ç–∞–º –Ω–∞—á–∏–Ω–∞—è —Å –ø–µ—Ä–≤–æ–≥–æ.

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã.
2. –ó–∞–±–∏–ª–¥–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ [expo](https://expo.dev/accounts/vik163/projects) `eas build --platform android --profile development` (–¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ expo.dev)

### –î–æ–±–∞–≤–∏—Ç—å —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Android FCM V1 (Firebase)

1. –í [Firebase Console](https://console.firebase.google.com/) —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç —Å —Ç–∞–∫–∏–º –∂–µ –∏–º–µ–Ω–µ–º –∏ (? –Ω–µ –∑–Ω–∞—é –¥–æ–±–∞–≤–ª—è—Ç—å –≤–Ω–∞—á–∞–ª–µ –∏–ª–∏ –∫–æ–Ω—Ü–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)(–¥–æ–±–∞–≤–∏—Ç—å –≤ –Ω–µ–≥–æ –ø—Ä–æ–µ–∫—Ç –∞–Ω–¥—Ä–æ–∏–¥ –∏–ª–∏ –∞–π—Ñ–æ–Ω (–∏–º—è –ø–∞–∫–µ—Ç–∞))
2. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª json –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
3. –í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ [expo](https://expo.dev/accounts/vik163/projects) –≤—ã–±—Ä–∞—Ç—å –≤–∫–ª–∞–¥–∫—É `credentials` (—Å–ª–µ–≤–∞ –≤–Ω–∏–∑—É)
4. add Application identifier
5. –í—Å—Ç–∞–≤–∏—Ç—å projectId (–ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –≤ eas build –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ app.json)

   ```json

      "eas": {
        "projectId": "afb32763-a5c4-4bce-94c5-ec002372d0b2"
      }
   ```

6. –ï—Å–ª–∏ –¥–∞–ª—å—à–µ –±—É–¥—É—Ç –ø—Ä–æ–±–ª–µ–º—ã, —Ç–æ –Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏ –∑–∞–∫—Ä—ã—Ç—å Application identifier –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∑–∞–π—Ç–∏ –≤ credentials —Å–Ω–æ–≤–∞. –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞. –ü–æ –Ω–µ–º—É –ø–µ—Ä–µ–π—Ç–∏.
7. add service accaunt key - –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª json —Å–∫–∞—á–∞–Ω–Ω—ã–π —Å firebase –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å.
8. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ firebase –≤ –ø—Ä–æ–µ–∫—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—è `general` —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª google-services.json
9. –ü–æ–º–µ—Å—Ç–∏—Ç—å –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ (? –ø–æ–º–µ—Å—Ç–∏–ª –≤ –ø–∞–ø–∫—É app –≥–¥–µ index.ts)
10. –ü—Ä–æ–ø–∏—Å–∞—Ç—å –ø—É—Ç—å –≤ —Ñ–∞–π–ª–µ app.json

```json
  "android": {
    ...
    "googleServicesFile": "./app/google-services.json"
  }
```

11. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç `eas build --platform android --profile development`

12. –ï—Å–ª–∏ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ firebase pushToken:

    1. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª `google-services.json` –≤ `android/app/`
    2. –í —Ñ–∞–π–ª–µ `android/build.gradle` –¥–æ–±–∞–≤–∏—Ç—å:

    ```java
    dependencies {
      classpath 'com.google.gms:google-services:4.4.1' // –¥–æ–±–∞–≤–∏—Ç—å (–±–µ–∑ —Å–∫–æ–±–æ–∫. –≤–µ—Ä—Å–∏—è –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è. –í–∑—è—Ç–æ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ eas)
      classpath('com.android.tools.build:gradle')
      classpath('com.facebook.react:react-native-gradle-plugin')
      classpath('org.jetbrains.kotlin:kotlin-gradle-plugin')
    }

    ```

    3. –í —Ñ–∞–π–ª–µ `android/app/build.gradle` –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–∞–º–æ–º –Ω–∏–∑—É:

    ```java
    apply plugin: 'com.google.gms.google-services'

    ```

13. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–∫–æ–Ω—á–µ–Ω–∞.
14. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ (—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞) –∫–æ–º–∞–Ω–¥–æ–π`npx expo run: android`
